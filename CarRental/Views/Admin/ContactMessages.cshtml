@model IEnumerable<CarRental.Models.ContactMessage>
@{
    ViewData["Title"] = "Contact Messages";
    Layout = "_AdminLayout";
}

@* <div class="container-fluid py-4">
    <h1 class="mb-4"><i class="fas fa-envelope"></i> Contact Messages</h1>
    <div class="card">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered table-hover">
                    <thead class="table-light">
                        <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Subject</th>
                            <th>Message</th>
                            <th>Sent At</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var msg in Model)
                        {
                            <tr>
                                <td>@msg.Id</td>
                                <td>@msg.Name</td>
                                <td>@msg.Email</td>
                                <td>@msg.Subject</td>
                                <td>@msg.Message</td>
                                <td>@msg.SentAt.ToString("MMM dd, yyyy HH:mm")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>  *@


<div class="container-fluid py-4">
    <h1 class="mb-4 text-gradient">
        <i class="fas fa-envelope-open-text"></i> Contact Messages
    </h1>

    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-4">
            <div class="table-responsive">
                <table class="table align-middle mb-0">
                    <!-- ✅ Gradient Header -->
                    <thead class="table-header text-white text-center">
                        <tr>
                            <th>#</th>
                            <th><i class="fas fa-user"></i> Name</th>
                            <th><i class="fas fa-at"></i> Email</th>
                            <th><i class="fas fa-tag"></i> Subject</th>
                            <th><i class="fas fa-comment-dots"></i> Message</th>
                            <th><i class="fas fa-clock"></i> Sent At</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model != null && Model.Any())
                        {
                            @foreach (var msg in Model)
                            {
                                <tr>
                                    <td class="fw-bold text-center">@msg.Id</td>

                                    <!-- ✅ Name Badge -->
                                    <td>
                                        <span class="badge bg-light text-dark px-3 py-2 rounded-pill shadow-sm">
                                            @msg.Name
                                        </span>
                                    </td>

                                    <!-- ✅ Email with icon -->
                                    <td>
                                        <a href="mailto:@msg.Email" class="text-decoration-none fw-semibold email-link">
                                            <i class="fas fa-envelope text-primary"></i> @msg.Email
                                        </a>
                                    </td>

                                    <!-- ✅ Subject Badge -->
                                    <td>
                                        <span class="badge bg-info text-dark px-3 py-2 rounded-pill shadow-sm">
                                            @msg.Subject
                                        </span>
                                    </td>

                                    <!-- ✅ Truncated Message -->
                                    <td>
                                        <span class="d-inline-block text-truncate fw-light text-muted"
                                              style="max-width: 250px;"
                                              title="@msg.Message">
                                            @msg.Message
                                        </span>
                                    </td>

                                    <!-- ✅ Date -->
                                    <td class="text-muted small">
                                        <i class="fas fa-calendar-alt"></i>
                                        @msg.SentAt.ToString("MMM dd, yyyy hh:mm tt")
                                    </td>
                                </tr>
                            }
                        }
                        else
                        {
                            <!-- ✅ Empty State -->
                            <tr>
                                <td colspan="6" class="text-center text-muted py-5">
                                    <i class="fas fa-inbox fa-2x mb-3"></i><br />
                                    No contact messages found.
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<style>
    /* ✅ Gradient Title */
    .text-gradient {
        background: linear-gradient(135deg, #06b6d4, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
    }

    /* ✅ Gradient Table Header */
    .table-header {
        background: linear-gradient(135deg, #0d6efd, #06b6d4);
    }

    /* ✅ Table Rows */
    .table tbody tr {
        background: #ffffff;
        border-radius: 12px;
        transition: all 0.25s ease-in-out;
        box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    }

        .table tbody tr:hover {
            background: #f1f9ff;
            transform: scale(1.01);
            box-shadow: 0 6px 12px rgba(0,0,0,0.12);
        }

    /* ✅ Table Cells */
    .table td, .table th {
        padding: 15px;
        vertical-align: middle;
        text-align: center;
        border: none !important;
    }

    /* ✅ Email Link */
    .email-link {
        color: #0d6efd;
        transition: 0.2s;
    }

        .email-link:hover {
            text-decoration: underline;
            color: #6610f2;
        }
</style>


